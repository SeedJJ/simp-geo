<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Round {{ round_num }} Answer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/base.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/set_answer.css') }}"
    />
  </head>
  <body>
    <div class="wrap">
      <h1 style="margin: 0 0 6px 0; font-size: 24px; letter-spacing: -0.02em">
        Set the correct answer spot
      </h1>
      <p class="muted" style="margin: 0 0 14px 0">
        Click on the map, then save.
      </p>

      <div class="card">
        <div class="tag">Map</div>
        <p class="muted" style="margin: 10px 0 10px 0">
          Selected: <span class="xy" id="xy">(none)</span>
        </p>

        <div
          id="toast"
          style="
            position: fixed;
            right: 18px;
            bottom: 18px;
            display: none;
            z-index: 9999;
            padding: 10px 12px;
            border-radius: 12px;
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text);
            font-weight: 900;
            box-shadow: 0 10px 30px rgba(16, 24, 40, 0.18);
          "
        ></div>

        <div
          id="mapWrap"
          style="
            position: relative;
            display: block;
            width: 100%;
            max-width: 1200px;
          "
        >
          <img id="map" src="{{url_for('uploads', filename=map_fn)}}" />
          <svg
            id="pinSvg"
            style="
              position: absolute;
              inset: 0;
              width: 100%;
              height: 100%;
              pointer-events: none;
            "
          ></svg>
        </div>

        <form
          id="answerForm"
          method="post"
          style="
            margin-top: 12px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
          "
        >
          <input type="hidden" name="x" id="x" />
          <input type="hidden" name="y" id="y" />
          <button type="submit">Save answer</button>
          <a href="{{url_for('host')}}">Cancel</a>
        </form>
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/set_answer.js') }}"></script>
  </body>
</html>
